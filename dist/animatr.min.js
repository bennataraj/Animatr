/*! Animatr v0.1.0 - CSS3 animations with HTML5 data-attributes
 * Copyright 2014 @sprawld http://sprawledoctopus.com/animatr/
 * MIT License. Includes jQuery.Keyframes & PrefixFree
 */
!function(){function a(a,b){return[].slice.call((b||document).querySelectorAll(a))}if(window.addEventListener){var b=window.StyleFix={link:function(a){try{if("stylesheet"!==a.rel||a.hasAttribute("data-noprefix"))return}catch(c){return}var d,e=a.href||a.getAttribute("data-href"),f=e.replace(/[^\/]+$/,""),g=(/^[a-z]{3,10}:/.exec(f)||[""])[0],h=(/^[a-z]{3,10}:\/\/[^\/]+/.exec(f)||[""])[0],i=/^([^?]*)\??/.exec(e)[1],j=a.parentNode,k=new XMLHttpRequest;k.onreadystatechange=function(){4===k.readyState&&d()},d=function(){var c=k.responseText;if(c&&a.parentNode&&(!k.status||k.status<400||k.status>600)){if(c=b.fix(c,!0,a),f){c=c.replace(/url\(\s*?((?:"|')?)(.+?)\1\s*?\)/gi,function(a,b,c){return/^([a-z]{3,10}:|#)/i.test(c)?a:/^\/\//.test(c)?'url("'+g+c+'")':/^\//.test(c)?'url("'+h+c+'")':/^\?/.test(c)?'url("'+i+c+'")':'url("'+f+c+'")'});var d=f.replace(/([\\\^\$*+[\]?{}.=!:(|)])/g,"\\$1");c=c.replace(RegExp("\\b(behavior:\\s*?url\\('?\"?)"+d,"gi"),"$1")}var e=document.createElement("style");e.textContent=c,e.media=a.media,e.disabled=a.disabled,e.setAttribute("data-href",a.getAttribute("href")),j.insertBefore(e,a),j.removeChild(a),e.media=a.media}};try{k.open("GET",e),k.send(null)}catch(c){"undefined"!=typeof XDomainRequest&&(k=new XDomainRequest,k.onerror=k.onprogress=function(){},k.onload=d,k.open("GET",e),k.send(null))}a.setAttribute("data-inprogress","")},styleElement:function(a){if(!a.hasAttribute("data-noprefix")){var c=a.disabled;a.textContent=b.fix(a.textContent,!0,a),a.disabled=c}},styleAttribute:function(a){var c=a.getAttribute("style");c=b.fix(c,!1,a),a.setAttribute("style",c)},process:function(){a('link[rel="stylesheet"]:not([data-inprogress])').forEach(StyleFix.link),a("style").forEach(StyleFix.styleElement),a("[style]").forEach(StyleFix.styleAttribute)},register:function(a,c){(b.fixers=b.fixers||[]).splice(void 0===c?b.fixers.length:c,0,a)},fix:function(a,c,d){for(var e=0;e<b.fixers.length;e++)a=b.fixers[e](a,c,d)||a;return a},camelCase:function(a){return a.replace(/-([a-z])/g,function(a,b){return b.toUpperCase()}).replace("-","")},deCamelCase:function(a){return a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})}};!function(){setTimeout(function(){a('link[rel="stylesheet"]').forEach(StyleFix.link)},10),document.addEventListener("DOMContentLoaded",StyleFix.process,!1)}()}}(),function(a){function b(a,b,d,e,f){if(a=c[a],a.length){var g=RegExp(b+"("+a.join("|")+")"+d,"gi");f=f.replace(g,e)}return f}if(window.StyleFix&&window.getComputedStyle){var c=window.PrefixFree={prefixCSS:function(a,d){var e=c.prefix;if(c.functions.indexOf("linear-gradient")>-1&&(a=a.replace(/(\s|:|,)(repeating-)?linear-gradient\(\s*(-?\d*\.?\d*)deg/gi,function(a,b,c,d){return b+(c||"")+"linear-gradient("+(90-d)+"deg"})),a=b("functions","(\\s|:|,)","\\s*\\(","$1"+e+"$2(",a),a=b("keywords","(\\s|:)","(\\s|;|\\}|$)","$1"+e+"$2$3",a),a=b("properties","(^|\\{|\\s|;)","\\s*:","$1"+e+"$2:",a),c.properties.length){var f=RegExp("\\b("+c.properties.join("|")+")(?!:)","gi");a=b("valueProperties","\\b",":(.+?);",function(a){return a.replace(f,e+"$1")},a)}return d&&(a=b("selectors","","\\b",c.prefixSelector,a),a=b("atrules","@","\\b","@"+e+"$1",a)),a=a.replace(RegExp("-"+e,"g"),"-"),a=a.replace(/-\*-(?=[a-z]+)/gi,c.prefix)},property:function(a){return(c.properties.indexOf(a)>=0?c.prefix:"")+a},value:function(a,d){return a=b("functions","(^|\\s|,)","\\s*\\(","$1"+c.prefix+"$2(",a),a=b("keywords","(^|\\s)","(\\s|$)","$1"+c.prefix+"$2$3",a),c.valueProperties.indexOf(d)>=0&&(a=b("properties","(^|\\s|,)","($|\\s|,)","$1"+c.prefix+"$2$3",a)),a},prefixSelector:function(a){return a.replace(/^:{1,2}/,function(a){return a+c.prefix})},prefixProperty:function(a,b){var d=c.prefix+a;return b?StyleFix.camelCase(d):d}};!function(){var a={},b=[],d=getComputedStyle(document.documentElement,null),e=document.createElement("div").style,f=function(c){if("-"===c.charAt(0)){b.push(c);var d=c.split("-"),e=d[1];for(a[e]=++a[e]||1;d.length>3;){d.pop();var f=d.join("-");g(f)&&-1===b.indexOf(f)&&b.push(f)}}},g=function(a){return StyleFix.camelCase(a)in e};if(d.length>0)for(var h=0;h<d.length;h++)f(d[h]);else for(var i in d)f(StyleFix.deCamelCase(i));var j={uses:0};for(var k in a){var l=a[k];j.uses<l&&(j={prefix:k,uses:l})}c.prefix="-"+j.prefix+"-",c.Prefix=StyleFix.camelCase(c.prefix),c.properties=[];for(var h=0;h<b.length;h++){var i=b[h];if(0===i.indexOf(c.prefix)){var m=i.slice(c.prefix.length);g(m)||c.properties.push(m)}}"Ms"!=c.Prefix||"transform"in e||"MsTransform"in e||!("msTransform"in e)||c.properties.push("transform","transform-origin"),c.properties.sort()}(),function(){function a(a,b){return e[b]="",e[b]=a,!!e[b]}var b={"linear-gradient":{property:"backgroundImage",params:"red, teal"},calc:{property:"width",params:"1px + 5%"},element:{property:"backgroundImage",params:"#foo"},"cross-fade":{property:"backgroundImage",params:"url(a.png), url(b.png), 50%"}};b["repeating-linear-gradient"]=b["repeating-radial-gradient"]=b["radial-gradient"]=b["linear-gradient"];var d={initial:"color","zoom-in":"cursor","zoom-out":"cursor",box:"display",flexbox:"display","inline-flexbox":"display",flex:"display","inline-flex":"display",grid:"display","inline-grid":"display","min-content":"width"};c.functions=[],c.keywords=[];var e=document.createElement("div").style;for(var f in b){var g=b[f],h=g.property,i=f+"("+g.params+")";!a(i,h)&&a(c.prefix+i,h)&&c.functions.push(f)}for(var j in d){var h=d[j];!a(j,h)&&a(c.prefix+j,h)&&c.keywords.push(j)}}(),function(){function b(a){return f.textContent=a+"{}",!!f.sheet.cssRules.length}var d={":read-only":null,":read-write":null,":any-link":null,"::selection":null},e={keyframes:"name",viewport:null,document:'regexp(".")'};c.selectors=[],c.atrules=[];var f=a.appendChild(document.createElement("style"));for(var g in d){var h=g+(d[g]?"("+d[g]+")":"");!b(h)&&b(c.prefixSelector(h))&&c.selectors.push(g)}for(var i in e){var h=i+" "+(e[i]||"");!b("@"+h)&&b("@"+c.prefix+h)&&c.atrules.push(i)}a.removeChild(f)}(),c.valueProperties=["transition","transition-property"],a.className+=" "+c.prefix,StyleFix.register(c.prefixCSS)}}(document.documentElement),function(){var a=!1,b="animation",c=prefix="",d=["Webkit","Moz","O","ms","Khtml"];$(window).load(function(){var e=document.body;if(void 0!==e.style.animationName&&(a=!0),a===!1)for(var f=0;f<d.length;f++)if(void 0!==e.style[d[f]+"AnimationName"]){prefix=d[f],b=prefix+"Animation",c="-"+prefix.toLowerCase()+"-",a=!0;break}});var e=function(a){return $("<style>").attr({"class":"keyframe-style",id:a,type:"text/css"}).appendTo("head")};$.keyframe={getVendorPrefix:function(){return c},isSupported:function(){return a},generate:function(a){var d=a.name||"",f="@"+c+"keyframes "+d+" {";for(var g in a)if("name"!==g){f+=g+" {";for(var h in a[g])f+=h+":"+a[g][h]+";";f+="}"}f=PrefixFree.prefixCSS(f+"}");var i=$("style#"+a.name);if(i.length>0){i.html(f);var j=$("*").filter(function(){this.style[b+"Name"]===d});j.each(function(){var a,b;a=$(this),b=a.data("keyframeOptions"),a.resetKeyframe(function(){a.playKeyframe(b)})})}else e(d).append(f)},define:function(a){if(a.length)for(var b=0;b<a.length;b++){var c=a[b];this.generate(c)}else this.generate(a)}};var f="animation-play-state",g="running";$.fn.resetKeyframe=function(a){$(this).css(c+f,g).css(c+"animation","none");a&&setTimeout(a,1)},$.fn.pauseKeyframe=function(){$(this).css(c+f,"paused")},$.fn.resumeKeyframe=function(){$(this).css(c+f,g)},$.fn.playKeyframe=function(a,b){var d=function(a){return a=$.extend({duration:0,timingFunction:"ease",delay:0,iterationCount:1,direction:"normal",fillMode:"forwards"},a),[a.name,a.duration,a.timingFunction,a.delay,a.iterationCount,a.direction,a.fillMode].join(" ")},e="";if($.isArray(a)){for(var h=[],i=0;i<a.length;i++)h.push("string"==typeof a[i]?a[i]:d(a[i]));e=h.join(", ")}else e="string"==typeof a?a:d(a);var j=c+"animation",k=["webkit","moz","MS","o",""],l=function(a,b,c){for(var d=0;d<k.length;d++){k[d]||(b=b.toLowerCase());var e=k[d]+b;a.off(e).on(e,c)}};return this.each(function(){var d=$(this).addClass("boostKeyframe").css(c+f,g).css(j,e).data("keyframeOptions",a);b&&(l(d,"AnimationIteration",b),l(d,"AnimationEnd",b))}),this},e("boost-keyframe").append(" .boostKeyframe{"+c+"transform:scale3d(1,1,1);}")}.call(this),function(a,b,c){function d(b,c){for(var d in c)b[d]=b.hasOwnProperty(d)?a.extend(b[d],c[d]):c[d]}function e(b){var c={};return b.replace(/([0-9]*\%)[^\{\}]*\{([^\}\{]*)\}/g,function(b,d,e){c.hasOwnProperty(d)?a.extend(c[d],f(e)):c[d]=f(e)}),c}function f(a){var b={};return a.replace(/([a-zA-Z_-]+)[^\w:]*:\s*([^;]+)/g,function(a,c,d){b[c]=d}),b}function g(a){var b=[],c="";for(var d in a)b.push([d,a[d]]);b.sort(function(a,b){return a[0]-b[0]});for(var d=0;d<b.length;d++)c+=b[d][0]+":"+b[d][1]+";";return c}function h(a){var b={};return a.replace(/([\-\w]+)[^\-\w:]*:\s*([^;]+)/g,function(a,c,d){b[c.replace(/(\-[a-z])/g,function(a){return a.toUpperCase().replace("-","")})]=d}),b}function i(){var a=c.styleSheets,d=b.CSSRule.WEBKIT_KEYFRAMES_RULE||b.CSSRule.KEYFRAMES_RULE,f={};for(var g in a)try{if(a.hasOwnProperty(g)){var h=a[g].cssRules;for(var i in h)if(h.hasOwnProperty(i)){var j=h[i];j.type==d&&j.cssText.replace(/[\r\n]/g,"").replace(/^@keyframes\W+(\w+)[^\w\{]*\{(.*)\}\W*$/,function(a,b,c){f[b]=e(c)})}}}catch(k){}return f}function j(b,c){var d={};return a.each(b[0].attributes,function(){if(this.specified){var b=this.value;this.name.replace(/^(data-t([1-9][0-9]*)?)((-([0-9]*)(\.[0-9]+)?(\%)?)|-loop)?$/,function(e,f,g,i,j,k,l,m){d.hasOwnProperty(f)||(d[f]={key:[],anim:[],config:a.extend({},c)});var n=parseFloat(k+l);"-loop"===i?d[f].config.iterationCount=parseInt(b)||"infinite":e===f?d[f].config=a.extend(d[f].config,h(b)):"%"===m&&n>=0&&100>=n?d[f].key.push([n,b]):n>=0&&d[f].anim.push([n,b])})}}),d}function k(a,b){if(a.length!=p.animations[b].length)return!1;for(var c=0;c<a.length;c++)if(a[c][0]!==p.animations[b][c][0]||a[c][1]!==p.animations[b][c][1])return!1;return!0}function l(b){var c=p.animations.length,d=[];for(var e in b)d.push([parseFloat(e),g(b[e])]);d.sort(function(a,b){return a[0]-b[0]});for(var e=0;c>e;e++)if(k(d,e))return e;return b.name="Animatr"+c,a.keyframe.define([b]),p.animations.push(d),c}function m(a){a.data("Animatr")&&a.resetKeyframe(function(){a[0].offsetWidth=a[0].offsetWidth,a.playKeyframe(a.data("Animatr"))})}function n(a,b){b.length&&a.playKeyframe(b).data("Animatr",b)}function o(b,c){var e={duration:"10s",delay:"0s"};if(c&&"string"==typeof c)switch(c.toLowerCase()){case"pause":return b.each(function(){a(this).pauseKeyframe()});case"play":return b.each(function(){a(this).resumeKeyframe()});case"restart":return b.each(function(){m(a(this))});default:e=a.extend(e,h(c))}return b.each(function(){var b=a(this);if(!b.data("Animatr")){var c=j(b,e);if(!a.isEmptyObject(c)){for(var g in c){var h=c[g].anim.length;if(h){c[g].anim.sort(function(a,b){return a[0]-b[0]});var i=c[g].anim[h-1][0];i>0&&(c[g].config.duration=i+"s");for(var k=0;h>k;k++){var m=parseInt(1e4*c[g].anim[k][0]/i)/100;c[g].key.push([m,c[g].anim[k][1]])}}}var o=[];for(var g in c){var q={};c[g].key.sort(function(a,b){return a[0]-b[0]});for(var k=(c[g].key.length,0);k<c[g].key.length;k++){var r={};r[c[g].key[k][0]+"%"]=f(c[g].key[k][1]),d(q,r)}if(c[g].config.keyframes){var s=[];if(c[g].config.keyframes.replace(/[a-zA-Z0-9\-_]+/g,function(a){p.keyframes.hasOwnProperty(a)?d(q,p.keyframes[a]):s.push(a)}),s.length)for(var t=0;t<s.length;t++){var u=a.extend(!0,{},c[g].config);u.name=s[t],o.push(u)}}c[g].config.name="Animatr"+l(q),o.push(c[g].config)}n(b,o)}}})}a.fn.animatr=function(a){return o(this,a)},a.animatr=function(a){return o(this("body *"),a)};var p={keyframes:i(),animations:[]}}(jQuery,window,document);